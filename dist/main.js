(()=>{"use strict";var e={createRoom:document.getElementById("create-room"),roomSearch:document.getElementById("room-search"),roomList:document.getElementById("room-list-container"),usernameDisplay:document.getElementById("username-display"),logOut:document.getElementById("log-out"),roomTitle:document.getElementById("room-title"),chatList:document.getElementById("chat-list-container"),chatField:document.getElementById("chat-field"),popup:document.getElementById("popup"),popupForm:document.getElementById("popup-form")},t={login:[{name:"username"},{name:"password",type:"password"}],register:[{name:"username"},{name:"email",type:"mail"},{name:"password",type:"password"}],createRoom:[{name:"name"},{name:"password",type:"password"}],joinRoom:[{name:"password",type:"password"}]},o=function(n,r){e.popup.className="";var a={};e.popupForm.innerHTML=r||"",t[n]||(e.popupForm.innerHTML="form inputs of name "+n+" not available.",console.error("form inputs of name "+n+" not available."));for(var m=t[n],p=0;p<m.length;p++){var c="temp-"+m[p]+"-("+Math.random()+")",d=document.createElement("label");d.htmlFor=c,d.textContent=m[p].name;var l=document.createElement("input");l.id=c,l.placeholder="...",l.type=m[p].type||"text",e.popupForm.append(d,l),a[m[p].name]=l}var s=document.createElement("button");s.textContent="submit",e.popupForm.appendChild(s),s.addEventListener("click",(function(){console.log("clicked");var t={};for(var r in a)t[r]=a[n];!function(e,t,o){var n=JSON.stringify(t),r=new Headers;r.append("Content-Type","application/json");try{fetch("url",{method:"POST",headers:r,body:n,redirect:"follow"}).then((function(e){return e.json()})).then((function(e){return o(e)})).catch((function(e){return o(e)}))}catch(e){o(e)}}(0,t,(function(t){if(!t.success)return console.error(t.response),void o(n,t);e.popup.className="hidden"}))}),{once:!0})};o("login","login required")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9td29ya2pzLWFwcC8uL3NyYy9hamF4LnRzIiwid2VicGFjazovL2Zyb213b3JranMtYXBwLy4vc3JjL2h0bWxFbGVtZW50cy50cyIsIndlYnBhY2s6Ly9mcm9td29ya2pzLWFwcC8uL3NyYy9wb3B1cEhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vZnJvbXdvcmtqcy1hcHAvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaHRtbEVsZW1lbnRzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImZvcm1JbnB1dHNMaXN0IiwibG9naW4iLCJuYW1lIiwidHlwZSIsInJlZ2lzdGVyIiwiY3JlYXRlUm9vbSIsImpvaW5Sb29tIiwiZGlzcGxheUZvcm0iLCJtZXNzYWdlIiwicG9wdXAiLCJjbGFzc05hbWUiLCJpbnB1dE9iamVjdHMiLCJwb3B1cEZvcm0iLCJpbm5lckhUTUwiLCJjb25zb2xlIiwiZXJyb3IiLCJmb3JtSW5wdXRzIiwiaSIsImxlbmd0aCIsInRlbXBJZCIsIk1hdGgiLCJyYW5kb20iLCJsYWJlbCIsImNyZWF0ZUVsZW1lbnQiLCJodG1sRm9yIiwidGV4dENvbnRlbnQiLCJpbnB1dEVsZW1lbnQiLCJpZCIsInBsYWNlaG9sZGVyIiwiYXBwZW5kIiwic3VibWl0QnV0dG9uIiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwibG9nIiwiZGF0YSIsImZpZWxkIiwidXJsIiwiY2FsbGJhY2siLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImhlYWRlcnMiLCJIZWFkZXJzIiwiZmV0Y2giLCJtZXRob2QiLCJyZWRpcmVjdCIsInRoZW4iLCJqc29uIiwicmVzcG9uc2UiLCJjYXRjaCIsInBvc3QiLCJzdWNjZXNzIiwib25jZSJdLCJtYXBwaW5ncyI6Im1CQVNRLElDVEtBLEVBQWUsQ0FDeEIsV0FBY0MsU0FBU0MsZUFBZSxlQUN0QyxXQUFjRCxTQUFTQyxlQUFlLGVBQ3RDLFNBQVlELFNBQVNDLGVBQWUsdUJBQ3BDLGdCQUFtQkQsU0FBU0MsZUFBZSxvQkFDM0MsT0FBVUQsU0FBU0MsZUFBZSxXQUNsQyxVQUFhRCxTQUFTQyxlQUFlLGNBQ3JDLFNBQVlELFNBQVNDLGVBQWUsdUJBQ3BDLFVBQWFELFNBQVNDLGVBQWUsY0FDckMsTUFBU0QsU0FBU0MsZUFBZSxTQUNqQyxVQUFhRCxTQUFTQyxlQUFlLGVDUm5DQyxFQUFxRSxDQUN2RUMsTUFBTyxDQUNILENBQ0lDLEtBQU0sWUFFVixDQUNJQSxLQUFNLFdBQ05DLEtBQU0sYUFHZEMsU0FBVSxDQUNOLENBQ0lGLEtBQU0sWUFFVixDQUNJQSxLQUFNLFFBQ05DLEtBQU0sUUFFVixDQUNJRCxLQUFNLFdBQ05DLEtBQU0sYUFHZEUsV0FBWSxDQUNSLENBQ0lILEtBQU0sUUFFVixDQUNJQSxLQUFNLFdBQ05DLEtBQU0sYUFHZEcsU0FBVSxDQUNOLENBQ0lKLEtBQU0sV0FDTkMsS0FBTSxjQVlMSSxFQUFjLFNBQUNMLEVBQWNNLEdBQ3RDWCxFQUFhWSxNQUFNQyxVQUFZLEdBRS9CLElBQUlDLEVBQStDLEdBRW5EZCxFQUFhZSxVQUFVQyxVQUFZTCxHQUFXLEdBQ3pDUixFQUFlRSxLQUNoQkwsRUFBYWUsVUFBVUMsVUFBWSx1QkFBdUJYLEVBQUksa0JBQzlEWSxRQUFRQyxNQUFNLHVCQUF1QmIsRUFBSSxvQkFJN0MsSUFEQSxJQUFJYyxFQUFhaEIsRUFBZUUsR0FDdkJlLEVBQUksRUFBR0EsRUFBSUQsRUFBV0UsT0FBUUQsSUFBSyxDQUN4QyxJQUFJRSxFQUFTLFFBQVFILEVBQVdDLEdBQUUsS0FBS0csS0FBS0MsU0FBUSxJQUVoREMsRUFBMEJ4QixTQUFTeUIsY0FBYyxTQUNyREQsRUFBTUUsUUFBVUwsRUFDaEJHLEVBQU1HLFlBQWNULEVBQVdDLEdBQUdmLEtBRWxDLElBQUl3QixFQUFpQzVCLFNBQVN5QixjQUFjLFNBQzVERyxFQUFhQyxHQUFLUixFQUNsQk8sRUFBYUUsWUFBYyxNQUMzQkYsRUFBYXZCLEtBQU9hLEVBQVdDLEdBQUdkLE1BQVEsT0FFMUNOLEVBQWFlLFVBQVVpQixPQUFPUCxFQUFPSSxHQUNyQ2YsRUFBYUssRUFBV0MsR0FBR2YsTUFBUXdCLEVBR3ZDLElBQUlJLEVBQWtDaEMsU0FBU3lCLGNBQWMsVUFDN0RPLEVBQWFMLFlBQWMsU0FDM0I1QixFQUFhZSxVQUFVbUIsWUFBWUQsR0FFbkNBLEVBQWFFLGlCQUFpQixTQUFTLFdBQ25DbEIsUUFBUW1CLElBQUksV0FDWixJQUFJQyxFQUFpQyxHQUNyQyxJQUFLLElBQUlDLEtBQVN4QixFQUNkdUIsRUFBS0MsR0FBU3hCLEVBQWFULElGekNuQixTQUFDa0MsRUFBYUYsRUFBY0csR0FJNUMsSUFBTUMsRUFBT0MsS0FBS0MsVUFBVU4sR0FFdEJPLEVBQVUsSUFBSUMsUUFFcEJELEVBQVFaLE9BQU8sZUFBZ0Isb0JBSy9CLElBR0ljLE1FNEJLLE1GNUJNLENBQUNDLE9BQVEsT0FBUUgsUUFBU0EsRUFBU0gsS0FBTUEsRUFBTU8sU0FBVSxXQUMvREMsTUFBSyxTQUFBUixHQUFRLE9BQUFBLEVBQUtTLFVBQ2xCRCxNQUFLLFNBQUFFLEdBQVksT0FBQVgsRUFBU1csTUFDMUJDLE9BQU0sU0FBQWxDLEdBQVMsT0FBQXNCLEVBQVN0QixNQUUvQixNQUFNQSxHQUNKc0IsRUFBU3RCLElFc0JUbUMsQ0FBSyxFQUFPaEIsR0FBTSxTQUFDYyxHQUNmLElBQUtBLEVBQVNHLFFBR1YsT0FGQXJDLFFBQVFDLE1BQU1pQyxFQUFTQSxlQUN2QnpDLEVBQVlMLEVBQU04QyxHQUl0Qm5ELEVBQWFZLE1BQU1DLFVBQVksY0FHcEMsQ0FBQzBDLE1BQU0sS0MvRmQ3QyxFQUFZLFFBQVMsbUIiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIEhUVFAgcmVxdWVzdCAqL1xyXG5cclxuLyoqXHJcbiAqIEV4ZWN1dGUgSFRUUCBHRVQgcmVxdWVzdCwgd2l0aCBmZXRjaCBhcGkgYXMgSlNPTi5cclxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIEZvciBsb2NhbCBsb2NhdGlvbiB1c2UgYC9wYXRoL2xvY2F0aW9uYCwgZm9yIG91dHNpZGUgbG9jYXRpb24gdXNlIGBodHRwKHMpOi8veW91clVSTC9sb2NhdGlvbmBcclxuICogQHBhcmFtIHsocmVzcG9uc2U6IG9iamVjdCkgPT4gdm9pZH0gY2FsbGJhY2sgLSBDYWxsYmFjayBmdW5jdGlvbiBmb3IgaGFuZGxpbmcgdGhlIHJlc3BvbnNlXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIC0gT3B0aW9uYWwsIHBhcnNlIGEgSmF2YVNjcmlwdCBvYmplY3QgYXMgcmVxdXN0IGJvZHlcclxuICovXHJcblxyXG4gZXhwb3J0IGNvbnN0IGdldCA9ICh1cmw6IHN0cmluZywgY2FsbGJhY2s6IChyZXNwb25zZTogb2JqZWN0LCBlcnJvcj86IGJvb2xlYW4pID0+IHZvaWQsIGRhdGE/OiBvYmplY3QpOiB2b2lkID0+IHtcclxuICAgIFxyXG4gICAgLy8gc2V0dGluZyB1cCByZXF1ZXN0IGFuZCBib2R5XHJcblxyXG4gICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xyXG5cclxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG5cclxuICAgIGhlYWRlcnMuYXBwZW5kKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcclxuXHJcblxyXG5cclxuICAgIC8vIG1heGltdW0gZXJyb3IgaGFuZGxpbmcgdG8gbWFpbnRhaW4gc3RhYmlsaXR5XHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICAvLyBleGVjdXRlIHJlcXVlc3QsIGZvbGxvd3MgcmVkaXJlY3RzLCBleHBlY3RzIGpzb25cclxuICAgICAgICBmZXRjaCh1cmwsIHttZXRob2Q6ICdHRVQnLCBoZWFkZXJzOiBoZWFkZXJzLCBib2R5OiBib2R5LCByZWRpcmVjdDogJ2ZvbGxvdyd9KVxyXG4gICAgICAgICAgICAudGhlbihib2R5ID0+IGJvZHkuanNvbigpKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiBjYWxsYmFjayhyZXNwb25zZSkpXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiBjYWxsYmFjayhlcnJvciwgdHJ1ZSkpO1xyXG5cclxuICAgIH0gY2F0Y2goZXJyb3IpIHtcclxuICAgICAgICBjYWxsYmFjayhlcnJvciwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEV4ZWN1dGUgSFRUUCBHRVQgcmVxdWVzdCwgd2l0aCBmZXRjaCBhcGkgYXMgSlNPTi5cclxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFVybCByZWxhdGl2ZSB0byByb290LCBmb3Igb3V0c2lkZSB1c2UgYGh0dHAocyk6Ly9gXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIC0gUGFyc2UgYSBKYXZhU2NyaXB0IG9iamVjdCBhcyByZXF1c3QgYm9keVxyXG4gKiBAcGFyYW0geyhyZXNwb25zZTogb2JqZWN0KSA9PiB2b2lkfSBjYWxsYmFjayAtIENhbGxiYWNrIGZ1bmN0aW9uIGZvciBoYW5kbGluZyB0aGUgcmVzcG9uc2VcclxuICovXHJcblxyXG5leHBvcnQgY29uc3QgcG9zdCA9ICh1cmw6IHN0cmluZywgZGF0YTogb2JqZWN0LCBjYWxsYmFjazogKHJlc3BvbnNlOiBvYmplY3QsIGVycm9yPzogYm9vbGVhbikgPT4gdm9pZCkgPT4ge1xyXG4gICAgXHJcbiAgICAvLyBzZXR0aW5nIHVwIHJlcXVlc3QgYW5kIGJvZHlcclxuXHJcbiAgICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XHJcblxyXG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcblxyXG4gICAgaGVhZGVycy5hcHBlbmQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xyXG5cclxuXHJcblxyXG4gICAgLy8gbWF4aW11bSBlcnJvciBoYW5kbGluZyB0byBtYWludGFpbiBzdGFiaWxpdHlcclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIC8vIGV4ZWN1dGUgcmVxdWVzdCwgZm9sbG93cyByZWRpcmVjdHMsIGV4cGVjdHMganNvblxyXG4gICAgICAgIGZldGNoKHVybCwge21ldGhvZDogJ1BPU1QnLCBoZWFkZXJzOiBoZWFkZXJzLCBib2R5OiBib2R5LCByZWRpcmVjdDogJ2ZvbGxvdyd9KVxyXG4gICAgICAgICAgICAudGhlbihib2R5ID0+IGJvZHkuanNvbigpKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiBjYWxsYmFjayhyZXNwb25zZSkpXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiBjYWxsYmFjayhlcnJvciwgdHJ1ZSkpO1xyXG5cclxuICAgIH0gY2F0Y2goZXJyb3IpIHtcclxuICAgICAgICBjYWxsYmFjayhlcnJvciwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG59IiwiZXhwb3J0IGNvbnN0IGh0bWxFbGVtZW50cyA9IHtcclxuICAgICdjcmVhdGVSb29tJzogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyZWF0ZS1yb29tJykhLFxyXG4gICAgJ3Jvb21TZWFyY2gnOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vbS1zZWFyY2gnKSEsXHJcbiAgICAncm9vbUxpc3QnOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vbS1saXN0LWNvbnRhaW5lcicpISxcclxuICAgICd1c2VybmFtZURpc3BsYXknOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcm5hbWUtZGlzcGxheScpISxcclxuICAgICdsb2dPdXQnOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9nLW91dCcpISxcclxuICAgICdyb29tVGl0bGUnOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vbS10aXRsZScpISxcclxuICAgICdjaGF0TGlzdCc6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0LWxpc3QtY29udGFpbmVyJykhLFxyXG4gICAgJ2NoYXRGaWVsZCc6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0LWZpZWxkJykhLFxyXG4gICAgJ3BvcHVwJzogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvcHVwJykhLFxyXG4gICAgJ3BvcHVwRm9ybSc6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3B1cC1mb3JtJykhISxcclxufSIsImltcG9ydCB7IHBvc3QgfSBmcm9tICcuL2FqYXgnXHJcbmltcG9ydCB7IGh0bWxFbGVtZW50cyB9IGZyb20gJy4vaHRtbEVsZW1lbnRzJ1xyXG5jb25zdCBmb3JtSW5wdXRzTGlzdDogeyBbbmFtZTogc3RyaW5nXSA6IHsgW2ZpZWxkOiBzdHJpbmddIDogc3RyaW5nfVtdIH0gPSB7XHJcbiAgICBsb2dpbjogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ3VzZXJuYW1lJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ3Bhc3N3b3JkJyxcclxuICAgICAgICAgICAgdHlwZTogJ3Bhc3N3b3JkJyxcclxuICAgICAgICB9XHJcbiAgICBdLFxyXG4gICAgcmVnaXN0ZXI6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICd1c2VybmFtZScsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdlbWFpbCcsXHJcbiAgICAgICAgICAgIHR5cGU6ICdtYWlsJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAncGFzc3dvcmQnLFxyXG4gICAgICAgICAgICB0eXBlOiAncGFzc3dvcmQnLFxyXG4gICAgICAgIH1cclxuICAgIF0sXHJcbiAgICBjcmVhdGVSb29tOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnbmFtZScsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdwYXNzd29yZCcsXHJcbiAgICAgICAgICAgIHR5cGU6ICdwYXNzd29yZCcsXHJcbiAgICAgICAgfVxyXG4gICAgXSxcclxuICAgIGpvaW5Sb29tOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAncGFzc3dvcmQnLFxyXG4gICAgICAgICAgICB0eXBlOiAncGFzc3dvcmQnLFxyXG4gICAgICAgIH1cclxuICAgIF0sXHJcbn1cclxuXHJcbmNvbnN0IGZvcm1BcGlQYXRoOiB7IFtrZXk6IHN0cmluZ10gOiBzdHJpbmd9ID0ge1xyXG4gICAgbG9naW46ICcvYXBpL3VzZXJzL2xvZ2luJyxcclxuICAgIHJlZ2lzdGVyOiAnL2FwaS91c2Vycy9yZWdpc3RlcicsXHJcbiAgICBjcmVhdGVSb29tOiAnL2FwaS9yb29tcy9jcmVhdGUnLFxyXG4gICAgam9pblJvb206ICcvYXBpL3Jvb21zL2pvaW4nLFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZGlzcGxheUZvcm0gPSAobmFtZTogc3RyaW5nLCBtZXNzYWdlPzogc3RyaW5nKSA9PiB7XHJcbiAgICBodG1sRWxlbWVudHMucG9wdXAuY2xhc3NOYW1lID0gXCJcIjtcclxuXHJcbiAgICBsZXQgaW5wdXRPYmplY3RzOiB7IFtrZXk6IHN0cmluZ10gOiBIVE1MRWxlbWVudH0gPSB7fVxyXG5cclxuICAgIGh0bWxFbGVtZW50cy5wb3B1cEZvcm0uaW5uZXJIVE1MID0gbWVzc2FnZSB8fCAnJztcclxuICAgIGlmICghZm9ybUlucHV0c0xpc3RbbmFtZV0pIHtcclxuICAgICAgICBodG1sRWxlbWVudHMucG9wdXBGb3JtLmlubmVySFRNTCA9IGBmb3JtIGlucHV0cyBvZiBuYW1lICR7bmFtZX0gbm90IGF2YWlsYWJsZS5gO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYGZvcm0gaW5wdXRzIG9mIG5hbWUgJHtuYW1lfSBub3QgYXZhaWxhYmxlLmApO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBmb3JtSW5wdXRzID0gZm9ybUlucHV0c0xpc3RbbmFtZV07XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZvcm1JbnB1dHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsZXQgdGVtcElkID0gYHRlbXAtJHtmb3JtSW5wdXRzW2ldfS0oJHtNYXRoLnJhbmRvbSgpfSlgXHJcblxyXG4gICAgICAgIGxldCBsYWJlbCA9IDxIVE1MTGFiZWxFbGVtZW50PmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgICAgICAgbGFiZWwuaHRtbEZvciA9IHRlbXBJZDtcclxuICAgICAgICBsYWJlbC50ZXh0Q29udGVudCA9IGZvcm1JbnB1dHNbaV0ubmFtZTtcclxuXHJcbiAgICAgICAgbGV0IGlucHV0RWxlbWVudCA9IDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmlkID0gdGVtcElkO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5wbGFjZWhvbGRlciA9ICcuLi4nO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC50eXBlID0gZm9ybUlucHV0c1tpXS50eXBlIHx8ICd0ZXh0JyxcclxuXHJcbiAgICAgICAgaHRtbEVsZW1lbnRzLnBvcHVwRm9ybS5hcHBlbmQobGFiZWwsIGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgaW5wdXRPYmplY3RzW2Zvcm1JbnB1dHNbaV0ubmFtZV0gPSBpbnB1dEVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGxldCBzdWJtaXRCdXR0b24gPSA8SFRNTEJ1dHRvbkVsZW1lbnQ+ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAnc3VibWl0JztcclxuICAgIGh0bWxFbGVtZW50cy5wb3B1cEZvcm0uYXBwZW5kQ2hpbGQoc3VibWl0QnV0dG9uKVxyXG5cclxuICAgIHN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCcpXHJcbiAgICAgICAgbGV0IGRhdGE6IHsgW2ZpZWxkOiBzdHJpbmddOiBhbnkgfSA9IHt9O1xyXG4gICAgICAgIGZvciAobGV0IGZpZWxkIGluIGlucHV0T2JqZWN0cykge1xyXG4gICAgICAgICAgICBkYXRhW2ZpZWxkXSA9IGlucHV0T2JqZWN0c1tuYW1lXVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcG9zdCgndXJsJywgZGF0YSwgKHJlc3BvbnNlOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlc3BvbnNlLnJlc3BvbnNlKVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheUZvcm0obmFtZSwgcmVzcG9uc2UpXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaHRtbEVsZW1lbnRzLnBvcHVwLmNsYXNzTmFtZSA9IFwiaGlkZGVuXCI7XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9LCB7b25jZTogdHJ1ZX0pIC8vIGhhbmRsZXMgY2xlYW51cCBmb3IgbWUgdG8gcHJldmVudCBtZW1vcnkgbGVha3MuXHJcbn0iLCJpbXBvcnQgeyBodG1sRWxlbWVudHMgfSBmcm9tIFwiLi9odG1sRWxlbWVudHNcIjtcclxuaW1wb3J0IHsgZGlzcGxheUZvcm0gfSBmcm9tIFwiLi9wb3B1cEhhbmRsZXJcIjtcclxuXHJcbmRpc3BsYXlGb3JtKCdsb2dpbicsICdsb2dpbiByZXF1aXJlZCcpIl0sInNvdXJjZVJvb3QiOiIifQ==