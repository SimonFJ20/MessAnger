(()=>{"use strict";var e="http://178.157.218.63:25565",t=function(e,t,n){var o=JSON.stringify(t),r=new Headers;r.append("Content-Type","application/json");try{fetch(e,{method:"POST",headers:r,body:o,redirect:"follow"}).then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(e){return n(e,!0)}))}catch(e){n(e,!0)}},n={createRoom:document.getElementById("create-room"),roomSearch:document.getElementById("room-search"),roomList:document.getElementById("room-list-container"),usernameDisplay:document.getElementById("username-display"),logOut:document.getElementById("log-out"),roomTitle:document.getElementById("room-title"),chatList:document.getElementById("chat-list-container"),chatField:document.getElementById("chat-field"),popup:document.getElementById("popup"),popupForm:document.getElementById("popup-form")},o=function(){n.createRoom.addEventListener("click",(function(){a("createRoom")}))},r={login:{title:"login",objects:[{name:"username"},{name:"password",type:"password"}],api:e+"/api/users/login",created:function(){var e=document.createElement("a");e.textContent="sign up?",e.addEventListener("click",(function(){a("register")}),{once:!0}),n.popupForm.appendChild(e)},completed:function(e){return sessionStorage.setItem("username",e.username),sessionStorage.setItem("userId",e.userId),sessionStorage.setItem("token",e.token),o(),s(),!0}},register:{title:"register",objects:[{name:"username"},{name:"email",type:"email"},{name:"password",type:"password"}],api:e+"/api/users/register",created:function(){var e=document.createElement("a");e.textContent="login?",e.addEventListener("click",(function(){a("login")}),{once:!0}),n.popupForm.appendChild(e)},completed:function(){return a("login")}},createRoom:{title:"create room",objects:[{name:"name",label:"room name"},{name:"description"},{name:"status",label:"type (public/hidden/private)"},{name:"password (leave blank if public)",type:"password"}],api:e+"/api/rooms/create",created:function(){var e=document.createElement("button");e.textContent="cancel",e.addEventListener("click",(function(){n.popupForm.innerHTML="",n.popup.className="hidden"}),{once:!0}),n.popupForm.appendChild(e)}},joinRoom:{title:"join room",objects:[{name:"password",type:"password"}],api:e+"/api/rooms/join"}},a=function(e,o){n.popup.className="",r[e]||(n.popupForm.innerHTML="form inputs of name "+e+" not available.",console.error("form inputs of name "+e+" not available.")),n.popupForm.innerHTML=r[e].title+(o?"\n"+o:"");for(var s=r[e].objects,i={},c=0;c<s.length;c++){var m="temp-"+s[c].name+"-("+Math.random()+")",p=document.createElement("label");p.htmlFor=m,p.textContent=s[c].label||s[c].name;var u=document.createElement("input");u.id=m,u.placeholder="...",u.type=s[c].type||"text",n.popupForm.append(p,u),i[s[c].name]=u}r[e].created&&r[e].created();var d=document.createElement("button");return d.textContent=r[e].title,n.popupForm.appendChild(d),d.addEventListener("click",(function(){var o={token:sessionStorage.getItem("token")};for(var s in i)o[s]=i[s].value;t(r[e].api,o,(function(t){return t.success?(n.popup.className="hidden",r[e].completed?r[e].completed(t):void 0):a(e,t.response)}))}),{once:!0}),!0},s=function(){sessionStorage.getItem("username")&&(n.usernameDisplay.textContent=sessionStorage.getItem("username")),n.logOut.addEventListener("click",(function(){sessionStorage.getItem("token")&&t(e+"/api/users/logout",{token:sessionStorage.getItem("token")},(function(){n.roomList.innerHTML="",n.chatList.innerHTML="",sessionStorage.removeItem("token"),a("login")}))}))};sessionStorage.getItem("token")?t(e+"/api/users/checktoken",{token:sessionStorage.getItem("token")},(function(e){!0!==e.success||"success"!==e.response?a("login","expired"===e.response?"session expired":void 0):(o(),s(),n.popup.className="hidden")})):a("login")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9td29ya2pzLWFwcC8uL3NyYy9hamF4LnRzIiwid2VicGFjazovL2Zyb213b3JranMtYXBwLy4vc3JjL2RvbS50cyIsIndlYnBhY2s6Ly9mcm9td29ya2pzLWFwcC8uL3NyYy9yb29tSGFuZGxlci50cyIsIndlYnBhY2s6Ly9mcm9td29ya2pzLWFwcC8uL3NyYy9mb3JtRGF0YS50cyIsIndlYnBhY2s6Ly9mcm9td29ya2pzLWFwcC8uL3NyYy9wb3B1cEhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vZnJvbXdvcmtqcy1hcHAvLi9zcmMvdXNlckhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vZnJvbXdvcmtqcy1hcHAvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaG9zdG5hbWUiLCJwb3N0IiwidXJsIiwiZGF0YSIsImNhbGxiYWNrIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJoZWFkZXJzIiwiSGVhZGVycyIsImFwcGVuZCIsImZldGNoIiwibWV0aG9kIiwicmVkaXJlY3QiLCJ0aGVuIiwianNvbiIsInJlc3BvbnNlIiwiY2F0Y2giLCJlcnJvciIsImh0bWxFbGVtZW50cyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ1c2VSb29tSGFuZGxlciIsImNyZWF0ZVJvb20iLCJhZGRFdmVudExpc3RlbmVyIiwiZGlzcGxheUZvcm0iLCJmb3JtRGF0YSIsImxvZ2luIiwidGl0bGUiLCJvYmplY3RzIiwibmFtZSIsInR5cGUiLCJhcGkiLCJjcmVhdGVkIiwiYnV0dG9uIiwiY3JlYXRlRWxlbWVudCIsInRleHRDb250ZW50Iiwib25jZSIsInBvcHVwRm9ybSIsImFwcGVuZENoaWxkIiwiY29tcGxldGVkIiwic2Vzc2lvblN0b3JhZ2UiLCJzZXRJdGVtIiwidXNlcm5hbWUiLCJ1c2VySWQiLCJ0b2tlbiIsInVzZVVzZXJIYW5kbGVyIiwicmVnaXN0ZXIiLCJsYWJlbCIsImlubmVySFRNTCIsInBvcHVwIiwiY2xhc3NOYW1lIiwiam9pblJvb20iLCJtZXNzYWdlIiwiY29uc29sZSIsImZvcm1JbnB1dHMiLCJpbnB1dE9iamVjdHMiLCJpIiwibGVuZ3RoIiwidGVtcElkIiwiTWF0aCIsInJhbmRvbSIsImh0bWxGb3IiLCJpbnB1dEVsZW1lbnQiLCJpZCIsInBsYWNlaG9sZGVyIiwic3VibWl0QnV0dG9uIiwiZ2V0SXRlbSIsImZpZWxkIiwidmFsdWUiLCJzdWNjZXNzIiwidXNlcm5hbWVEaXNwbGF5IiwibG9nT3V0Iiwicm9vbUxpc3QiLCJjaGF0TGlzdCIsInJlbW92ZUl0ZW0iLCJ1bmRlZmluZWQiXSwibWFwcGluZ3MiOiJtQkFTUSxJQUFNQSxFQUFXLDhCQXFDWkMsRUFBTyxTQUFDQyxFQUFhQyxFQUFjQyxHQUk1QyxJQUFNQyxFQUFPQyxLQUFLQyxVQUFVSixHQUV0QkssRUFBVSxJQUFJQyxRQUVwQkQsRUFBUUUsT0FBTyxlQUFnQixvQkFLL0IsSUFHSUMsTUFBTVQsRUFBSyxDQUFDVSxPQUFRLE9BQVFKLFFBQVNBLEVBQVNILEtBQU1BLEVBQU1RLFNBQVUsV0FDL0RDLE1BQUssU0FBQVQsR0FBUSxPQUFBQSxFQUFLVSxVQUNsQkQsTUFBSyxTQUFBRSxHQUFZLE9BQUFaLEVBQVNZLE1BQzFCQyxPQUFNLFNBQUFDLEdBQVMsT0FBQWQsRUFBU2MsR0FBTyxNQUV0QyxNQUFNQSxHQUNKZCxFQUFTYyxHQUFPLEtDcEVYQyxFQUFlLENBQ3hCLFdBQWNDLFNBQVNDLGVBQWUsZUFDdEMsV0FBY0QsU0FBU0MsZUFBZSxlQUN0QyxTQUFZRCxTQUFTQyxlQUFlLHVCQUNwQyxnQkFBbUJELFNBQVNDLGVBQWUsb0JBQzNDLE9BQVVELFNBQVNDLGVBQWUsV0FDbEMsVUFBYUQsU0FBU0MsZUFBZSxjQUNyQyxTQUFZRCxTQUFTQyxlQUFlLHVCQUNwQyxVQUFhRCxTQUFTQyxlQUFlLGNBQ3JDLE1BQVNELFNBQVNDLGVBQWUsU0FDakMsVUFBYUQsU0FBU0MsZUFBZSxlQ1A1QkMsRUFBaUIsV0FDMUJILEVBQWFJLFdBQVdDLGlCQUFpQixTQUFTLFdBQzlDQyxF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OlsiLyogSFRUUCByZXF1ZXN0ICovXHJcblxyXG4vKipcclxuICogRXhlY3V0ZSBIVFRQIEdFVCByZXF1ZXN0LCB3aXRoIGZldGNoIGFwaSBhcyBKU09OLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gRm9yIGxvY2FsIGxvY2F0aW9uIHVzZSBgL3BhdGgvbG9jYXRpb25gLCBmb3Igb3V0c2lkZSBsb2NhdGlvbiB1c2UgYGh0dHAocyk6Ly95b3VyVVJML2xvY2F0aW9uYFxyXG4gKiBAcGFyYW0geyhyZXNwb25zZTogb2JqZWN0KSA9PiB2b2lkfSBjYWxsYmFjayAtIENhbGxiYWNrIGZ1bmN0aW9uIGZvciBoYW5kbGluZyB0aGUgcmVzcG9uc2VcclxuICogQHBhcmFtIHtvYmplY3R9IGRhdGEgLSBPcHRpb25hbCwgcGFyc2UgYSBKYXZhU2NyaXB0IG9iamVjdCBhcyByZXF1c3QgYm9keVxyXG4gKi9cclxuXHJcbiBleHBvcnQgY29uc3QgaG9zdG5hbWUgPSAnaHR0cDovLzE3OC4xNTcuMjE4LjYzOjI1NTY1J1xyXG5cclxuIGV4cG9ydCBjb25zdCBnZXQgPSAodXJsOiBzdHJpbmcsIGNhbGxiYWNrOiAocmVzcG9uc2U6IG9iamVjdCwgZXJyb3I/OiBib29sZWFuKSA9PiB2b2lkLCBkYXRhPzogb2JqZWN0KTogdm9pZCA9PiB7XHJcbiAgICBcclxuICAgIC8vIHNldHRpbmcgdXAgcmVxdWVzdCBhbmQgYm9keVxyXG5cclxuICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxuXHJcbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcclxuXHJcbiAgICBoZWFkZXJzLmFwcGVuZChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XHJcblxyXG5cclxuXHJcbiAgICAvLyBtYXhpbXVtIGVycm9yIGhhbmRsaW5nIHRvIG1haW50YWluIHN0YWJpbGl0eVxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgLy8gZXhlY3V0ZSByZXF1ZXN0LCBmb2xsb3dzIHJlZGlyZWN0cywgZXhwZWN0cyBqc29uXHJcbiAgICAgICAgZmV0Y2godXJsLCB7bWV0aG9kOiAnR0VUJywgaGVhZGVyczogaGVhZGVycywgYm9keTogYm9keSwgcmVkaXJlY3Q6ICdmb2xsb3cnfSlcclxuICAgICAgICAgICAgLnRoZW4oYm9keSA9PiBib2R5Lmpzb24oKSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gY2FsbGJhY2socmVzcG9uc2UpKVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY2FsbGJhY2soZXJyb3IsIHRydWUpKTtcclxuXHJcbiAgICB9IGNhdGNoKGVycm9yKSB7XHJcbiAgICAgICAgY2FsbGJhY2soZXJyb3IsIHRydWUpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBFeGVjdXRlIEhUVFAgR0VUIHJlcXVlc3QsIHdpdGggZmV0Y2ggYXBpIGFzIEpTT04uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVcmwgcmVsYXRpdmUgdG8gcm9vdCwgZm9yIG91dHNpZGUgdXNlIGBodHRwKHMpOi8vYFxyXG4gKiBAcGFyYW0ge29iamVjdH0gZGF0YSAtIFBhcnNlIGEgSmF2YVNjcmlwdCBvYmplY3QgYXMgcmVxdXN0IGJvZHlcclxuICogQHBhcmFtIHsocmVzcG9uc2U6IG9iamVjdCkgPT4gdm9pZH0gY2FsbGJhY2sgLSBDYWxsYmFjayBmdW5jdGlvbiBmb3IgaGFuZGxpbmcgdGhlIHJlc3BvbnNlXHJcbiAqL1xyXG5cclxuZXhwb3J0IGNvbnN0IHBvc3QgPSAodXJsOiBzdHJpbmcsIGRhdGE6IG9iamVjdCwgY2FsbGJhY2s6IChyZXNwb25zZTogb2JqZWN0LCBlcnJvcj86IGJvb2xlYW4pID0+IHZvaWQpID0+IHtcclxuICAgIFxyXG4gICAgLy8gc2V0dGluZyB1cCByZXF1ZXN0IGFuZCBib2R5XHJcblxyXG4gICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xyXG5cclxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG5cclxuICAgIGhlYWRlcnMuYXBwZW5kKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcclxuXHJcblxyXG5cclxuICAgIC8vIG1heGltdW0gZXJyb3IgaGFuZGxpbmcgdG8gbWFpbnRhaW4gc3RhYmlsaXR5XHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICAvLyBleGVjdXRlIHJlcXVlc3QsIGZvbGxvd3MgcmVkaXJlY3RzLCBleHBlY3RzIGpzb25cclxuICAgICAgICBmZXRjaCh1cmwsIHttZXRob2Q6ICdQT1NUJywgaGVhZGVyczogaGVhZGVycywgYm9keTogYm9keSwgcmVkaXJlY3Q6ICdmb2xsb3cnfSlcclxuICAgICAgICAgICAgLnRoZW4oYm9keSA9PiBib2R5Lmpzb24oKSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gY2FsbGJhY2socmVzcG9uc2UpKVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY2FsbGJhY2soZXJyb3IsIHRydWUpKTtcclxuXHJcbiAgICB9IGNhdGNoKGVycm9yKSB7XHJcbiAgICAgICAgY2FsbGJhY2soZXJyb3IsIHRydWUpO1xyXG4gICAgfVxyXG5cclxufSIsImV4cG9ydCBjb25zdCBodG1sRWxlbWVudHMgPSB7XHJcbiAgICAnY3JlYXRlUm9vbSc6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjcmVhdGUtcm9vbScpISxcclxuICAgICdyb29tU2VhcmNoJzogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb20tc2VhcmNoJykhLFxyXG4gICAgJ3Jvb21MaXN0JzogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb20tbGlzdC1jb250YWluZXInKSEsXHJcbiAgICAndXNlcm5hbWVEaXNwbGF5JzogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJuYW1lLWRpc3BsYXknKSEsXHJcbiAgICAnbG9nT3V0JzogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZy1vdXQnKSEsXHJcbiAgICAncm9vbVRpdGxlJzogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb20tdGl0bGUnKSEsXHJcbiAgICAnY2hhdExpc3QnOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdC1saXN0LWNvbnRhaW5lcicpISxcclxuICAgICdjaGF0RmllbGQnOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdC1maWVsZCcpISxcclxuICAgICdwb3B1cCc6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3B1cCcpISxcclxuICAgICdwb3B1cEZvcm0nOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9wdXAtZm9ybScpISxcclxufSIsImltcG9ydCB7IGh0bWxFbGVtZW50cyB9IGZyb20gXCIuL2RvbVwiXHJcbmltcG9ydCB7IGRpc3BsYXlGb3JtIH0gZnJvbSBcIi4vcG9wdXBIYW5kbGVyXCJcclxuXHJcbmV4cG9ydCBjb25zdCB1c2VSb29tSGFuZGxlciA9ICgpID0+IHtcclxuICAgIGh0bWxFbGVtZW50cy5jcmVhdGVSb29tLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGRpc3BsYXlGb3JtKCdjcmVhdGVSb29tJylcclxuICAgIH0pXHJcbn0iLCJpbXBvcnQgeyBodG1sRWxlbWVudHMgfSBmcm9tIFwiLi9kb21cIjtcclxuaW1wb3J0IHsgZGlzcGxheUZvcm0gfSBmcm9tIFwiLi9wb3B1cEhhbmRsZXJcIjtcclxuaW1wb3J0IHsgaG9zdG5hbWUgfSBmcm9tICcuL2FqYXgnO1xyXG5pbXBvcnQgeyB1c2VSb29tSGFuZGxlciB9IGZyb20gXCIuL3Jvb21IYW5kbGVyXCI7XHJcbmltcG9ydCB7IHVzZVVzZXJIYW5kbGVyIH0gZnJvbSBcIi4vdXNlckhhbmRsZXJcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBmb3JtRGF0YTogYW55ID0ge1xyXG4gICAgbG9naW46IHtcclxuICAgICAgICB0aXRsZTogJ2xvZ2luJyxcclxuICAgICAgICBvYmplY3RzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICd1c2VybmFtZScsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdwYXNzd29yZCcsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAncGFzc3dvcmQnLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICBhcGk6IGhvc3RuYW1lICsgJy9hcGkvdXNlcnMvbG9naW4nLFxyXG4gICAgICAgIGNyZWF0ZWQ6ICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGJ1dHRvbiA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICdzaWduIHVwPydcclxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheUZvcm0oJ3JlZ2lzdGVyJyk7XHJcbiAgICAgICAgICAgIH0sIHtvbmNlOiB0cnVlfSlcclxuICAgICAgICAgICAgaHRtbEVsZW1lbnRzLnBvcHVwRm9ybS5hcHBlbmRDaGlsZChidXR0b24pOyAgICBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbXBsZXRlZDogKHJlc3BvbnNlOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlcm5hbWUnLCByZXNwb25zZS51c2VybmFtZSk7XHJcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3VzZXJJZCcsIHJlc3BvbnNlLnVzZXJJZCk7XHJcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgcmVzcG9uc2UudG9rZW4pO1xyXG5cclxuICAgICAgICAgICAgdXNlUm9vbUhhbmRsZXIoKTtcclxuICAgICAgICAgICAgdXNlVXNlckhhbmRsZXIoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJlZ2lzdGVyOiB7XHJcbiAgICAgICAgdGl0bGU6ICdyZWdpc3RlcicsXHJcbiAgICAgICAgb2JqZWN0czogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAndXNlcm5hbWUnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnZW1haWwnLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2VtYWlsJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAncGFzc3dvcmQnLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ3Bhc3N3b3JkJyxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgYXBpOiBob3N0bmFtZSArICcvYXBpL3VzZXJzL3JlZ2lzdGVyJyxcclxuICAgICAgICBjcmVhdGVkOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBidXR0b24gPSA8SFRNTEVsZW1lbnQ+ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnbG9naW4/J1xyXG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5Rm9ybSgnbG9naW4nKTtcclxuICAgICAgICAgICAgfSwge29uY2U6IHRydWV9KVxyXG4gICAgICAgICAgICBodG1sRWxlbWVudHMucG9wdXBGb3JtLmFwcGVuZENoaWxkKGJ1dHRvbik7ICAgICAgXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb21wbGV0ZWQ6ICgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGRpc3BsYXlGb3JtKCdsb2dpbicpXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBjcmVhdGVSb29tOiB7XHJcbiAgICAgICAgdGl0bGU6ICdjcmVhdGUgcm9vbScsXHJcbiAgICAgICAgb2JqZWN0czogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnbmFtZScsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ3Jvb20gbmFtZSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2Rlc2NyaXB0aW9uJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ3N0YXR1cycsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogJ3R5cGUgKHB1YmxpYy9oaWRkZW4vcHJpdmF0ZSknXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdwYXNzd29yZCAobGVhdmUgYmxhbmsgaWYgcHVibGljKScsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAncGFzc3dvcmQnLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICBhcGk6IGhvc3RuYW1lICsgJy9hcGkvcm9vbXMvY3JlYXRlJyxcclxuICAgICAgICBjcmVhdGVkOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBidXR0b24gPSA8SFRNTEJ1dHRvbkVsZW1lbnQ+ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICdjYW5jZWwnXHJcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGh0bWxFbGVtZW50cy5wb3B1cEZvcm0uaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICAgICAgICBodG1sRWxlbWVudHMucG9wdXAuY2xhc3NOYW1lID0gJ2hpZGRlbic7XHJcbiAgICAgICAgICAgIH0sIHtvbmNlOiB0cnVlfSlcclxuICAgICAgICAgICAgaHRtbEVsZW1lbnRzLnBvcHVwRm9ybS5hcHBlbmRDaGlsZChidXR0b24pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBqb2luUm9vbToge1xyXG4gICAgICAgIHRpdGxlOiAnam9pbiByb29tJyxcclxuICAgICAgICBvYmplY3RzOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdwYXNzd29yZCcsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAncGFzc3dvcmQnLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICBhcGk6IGhvc3RuYW1lICsgJy9hcGkvcm9vbXMvam9pbicsXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBwb3N0IH0gZnJvbSAnLi9hamF4J1xyXG5pbXBvcnQgeyBodG1sRWxlbWVudHMgfSBmcm9tICcuL2RvbSdcclxuaW1wb3J0IHsgZm9ybURhdGEgfSBmcm9tICcuL2Zvcm1EYXRhJ1xyXG5cclxuZXhwb3J0IGNvbnN0IGRpc3BsYXlGb3JtID0gKG5hbWU6IHN0cmluZywgbWVzc2FnZT86IHN0cmluZykgPT4ge1xyXG4gICAgaHRtbEVsZW1lbnRzLnBvcHVwLmNsYXNzTmFtZSA9ICcnO1xyXG4gICAgaWYgKCFmb3JtRGF0YVtuYW1lXSkge1xyXG4gICAgICAgIGh0bWxFbGVtZW50cy5wb3B1cEZvcm0uaW5uZXJIVE1MID0gYGZvcm0gaW5wdXRzIG9mIG5hbWUgJHtuYW1lfSBub3QgYXZhaWxhYmxlLmA7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgZm9ybSBpbnB1dHMgb2YgbmFtZSAke25hbWV9IG5vdCBhdmFpbGFibGUuYCk7XHJcbiAgICB9XHJcbiAgICBodG1sRWxlbWVudHMucG9wdXBGb3JtLmlubmVySFRNTCA9IGZvcm1EYXRhW25hbWVdLnRpdGxlICsgKG1lc3NhZ2UgPyAnXFxuJyArIG1lc3NhZ2UgOiAnJyk7XHJcblxyXG4gICAgbGV0IGZvcm1JbnB1dHMgPSBmb3JtRGF0YVtuYW1lXS5vYmplY3RzO1xyXG4gICAgbGV0IGlucHV0T2JqZWN0czogeyBba2V5OiBzdHJpbmddIDogSFRNTElucHV0RWxlbWVudH0gPSB7fVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm9ybUlucHV0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCB0ZW1wSWQgPSBgdGVtcC0ke2Zvcm1JbnB1dHNbaV0ubmFtZX0tKCR7TWF0aC5yYW5kb20oKX0pYFxyXG5cclxuICAgICAgICBsZXQgbGFiZWwgPSA8SFRNTExhYmVsRWxlbWVudD5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xyXG4gICAgICAgIGxhYmVsLmh0bWxGb3IgPSB0ZW1wSWQ7XHJcbiAgICAgICAgbGFiZWwudGV4dENvbnRlbnQgPSBmb3JtSW5wdXRzW2ldLmxhYmVsIHx8IGZvcm1JbnB1dHNbaV0ubmFtZTtcclxuXHJcbiAgICAgICAgbGV0IGlucHV0RWxlbWVudCA9IDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmlkID0gdGVtcElkO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5wbGFjZWhvbGRlciA9ICcuLi4nO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC50eXBlID0gZm9ybUlucHV0c1tpXS50eXBlIHx8ICd0ZXh0JyxcclxuXHJcbiAgICAgICAgaHRtbEVsZW1lbnRzLnBvcHVwRm9ybS5hcHBlbmQobGFiZWwsIGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgaW5wdXRPYmplY3RzW2Zvcm1JbnB1dHNbaV0ubmFtZV0gPSBpbnB1dEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGZvcm1EYXRhW25hbWVdLmNyZWF0ZWQpXHJcbiAgICAgICAgZm9ybURhdGFbbmFtZV0uY3JlYXRlZCgpO1xyXG5cclxuICAgIC8vIHN1Ym1pdCBidXR0b25cclxuICAgIFxyXG4gICAgbGV0IHN1Ym1pdEJ1dHRvbiA9IDxIVE1MQnV0dG9uRWxlbWVudD5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgIHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IGZvcm1EYXRhW25hbWVdLnRpdGxlO1xyXG4gICAgaHRtbEVsZW1lbnRzLnBvcHVwRm9ybS5hcHBlbmRDaGlsZChzdWJtaXRCdXR0b24pXHJcblxyXG4gICAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGxldCBkYXRhOiB7IFtmaWVsZDogc3RyaW5nXTogYW55IH0gPSB7XHJcbiAgICAgICAgICAgIHRva2VuOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZm9yIChsZXQgZmllbGQgaW4gaW5wdXRPYmplY3RzKSB7XHJcbiAgICAgICAgICAgIGRhdGFbZmllbGRdID0gaW5wdXRPYmplY3RzW2ZpZWxkXS52YWx1ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcG9zdChmb3JtRGF0YVtuYW1lXS5hcGksIGRhdGEsIChyZXNwb25zZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BsYXlGb3JtKG5hbWUsIHJlc3BvbnNlLnJlc3BvbnNlKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBodG1sRWxlbWVudHMucG9wdXAuY2xhc3NOYW1lID0gXCJoaWRkZW5cIjtcclxuICAgICAgICAgICAgaWYgKGZvcm1EYXRhW25hbWVdLmNvbXBsZXRlZClcclxuICAgICAgICAgICAgICAgIHJldHVybiBmb3JtRGF0YVtuYW1lXS5jb21wbGV0ZWQocmVzcG9uc2UpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9LCB7b25jZTogdHJ1ZX0pXHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn0iLCJpbXBvcnQgeyBob3N0bmFtZSwgcG9zdCB9IGZyb20gXCIuL2FqYXhcIlxyXG5pbXBvcnQgeyBodG1sRWxlbWVudHMgfSBmcm9tIFwiLi9kb21cIlxyXG5pbXBvcnQgeyBkaXNwbGF5Rm9ybSB9IGZyb20gXCIuL3BvcHVwSGFuZGxlclwiXHJcblxyXG5leHBvcnQgY29uc3QgdXNlVXNlckhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlcm5hbWUnKSkgaHRtbEVsZW1lbnRzLnVzZXJuYW1lRGlzcGxheS50ZXh0Q29udGVudCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3VzZXJuYW1lJyk7XHJcblxyXG4gICAgaHRtbEVsZW1lbnRzLmxvZ091dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSkge1xyXG4gICAgICAgICAgICBwb3N0KGhvc3RuYW1lICsgJy9hcGkvdXNlcnMvbG9nb3V0Jywge3Rva2VuOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaHRtbEVsZW1lbnRzLnJvb21MaXN0LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgaHRtbEVsZW1lbnRzLmNoYXRMaXN0LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKVxyXG4gICAgICAgICAgICAgICAgZGlzcGxheUZvcm0oJ2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSIsImltcG9ydCB7IGhvc3RuYW1lLCBwb3N0IH0gZnJvbSBcIi4vYWpheFwiO1xyXG5pbXBvcnQgeyBodG1sRWxlbWVudHMgfSBmcm9tIFwiLi9kb21cIjtcclxuaW1wb3J0IHsgdXNlVXNlckhhbmRsZXIgfSBmcm9tIFwiLi91c2VySGFuZGxlclwiO1xyXG5pbXBvcnQgeyBkaXNwbGF5Rm9ybSB9IGZyb20gXCIuL3BvcHVwSGFuZGxlclwiO1xyXG5pbXBvcnQgeyB1c2VSb29tSGFuZGxlciB9IGZyb20gXCIuL3Jvb21IYW5kbGVyXCI7XHJcblxyXG5jb25zdCBzdGFydCA9ICgpID0+IHtcclxuICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpKSB7XHJcbiAgICAgICAgcG9zdChob3N0bmFtZSArICcvYXBpL3VzZXJzL2NoZWNrdG9rZW4nLCB7dG9rZW46IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyl9LCAocmVzcG9uc2U6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIShyZXNwb25zZS5zdWNjZXNzID09PSB0cnVlICYmIHJlc3BvbnNlLnJlc3BvbnNlID09PSAnc3VjY2VzcycpKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5Rm9ybSgnbG9naW4nLCByZXNwb25zZS5yZXNwb25zZSA9PT0gJ2V4cGlyZWQnID8gJ3Nlc3Npb24gZXhwaXJlZCcgOiB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXNlUm9vbUhhbmRsZXIoKTtcclxuICAgICAgICAgICAgICAgIHVzZVVzZXJIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgICAgICBodG1sRWxlbWVudHMucG9wdXAuY2xhc3NOYW1lID0gJ2hpZGRlbic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBkaXNwbGF5Rm9ybSgnbG9naW4nKVxyXG4gICAgfVxyXG59XHJcblxyXG5zdGFydCgpOyJdLCJzb3VyY2VSb290IjoiIn0=